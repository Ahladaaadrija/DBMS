mysql> CREATE FUNCTION CalculateFine(late_days INT)
    -> RETURNS DECIMAL(10,2)
    -> DETERMINISTIC
    -> BEGIN
    ->     DECLARE fine DECIMAL(10,2);
    -> 
    ->     IF late_days <= 7 THEN
    ->         SET fine = 10;             -- Rs 10 for 0–7 days
    ->     ELSEIF late_days <= 30 THEN
    ->         SET fine = 100;            -- Rs 100 for 8–30 days
    ->     ELSE
    ->         SET fine = late_days * 10; -- Rs 10 per day after 30
    ->     END IF;
    -> 
    ->     RETURN fine;
    -> END //
ERROR 1304 (42000): FUNCTION CalculateFine already exists
mysql> 
mysql> DELIMITER ;
mysql> INSERT INTO BOOK_RETURN (Issue_id, Actual_date_of_return, Late_days, Late_fee)
    -> VALUES
    -> (1, '2023-10-20', 5, 0),   -- 5 days late
    -> (2, '2023-10-25', 15, 0),  -- 15 days late
    -> (3, '2023-11-10', 40, 0);  -- 40 days late
ERROR 1062 (23000): Duplicate entry '1' for key 'BOOK_RETURN.PRIMARY'
mysql> -- Calculate fines dynamically
mysql> SELECT Issue_id, Late_days, CalculateFine(Late_days) AS Fine
    -> FROM BOOK_RETURN;
+----------+-----------+-------+
| Issue_id | Late_days | Fine  |
+----------+-----------+-------+
|        1 |         1 | 10.00 |
|        2 |         1 | 10.00 |
|        3 |         3 | 10.00 |
|        4 |         0 | 10.00 |
|        5 |         0 | 10.00 |
+----------+-----------+-------+
5 rows in set (0.00 sec)

mysql> TRIGGER II
